<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENARM Prep - Preparación para el Examen Nacional de Aspirantes a Residencias Médicas</title>
    <meta name="description" content="Plataforma completa de preparación para el ENARM con bancos de preguntas, guías de estudio y seguimiento de progreso.">
    <meta name="keywords" content="ENARM, examen médico, residencia médica, preparación médica, preguntas médicas">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="ENARM Prep - Preparación para Residencias Médicas">
    <meta property="og:description" content="La mejor plataforma para preparar tu ENARM con miles de preguntas y herramientas de estudio.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-username.github.io/enarm-prep/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/freemium.css">
    
    <!-- Chart.js for progress visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h1>ENARM Prep</h1>
                <span class="nav-subtitle">Preparación Médica Integral</span>
            </div>
            
            <div class="nav-menu" id="nav-menu">
                <a href="#home" class="nav-link active" data-page="home">
                    Inicio
                </a>
                <a href="#practice" class="nav-link" data-page="practice">
                    Práctica
                </a>
                <a href="#progress" class="nav-link" data-page="progress">
                    Progreso
                </a>
            </div>
            
            <div class="nav-controls">
                <button class="theme-toggle" id="theme-toggle" aria-label="Cambiar tema">
                    <span class="theme-icon">◐</span>
                </button>
                <button class="nav-hamburger" id="nav-hamburger" aria-label="Menú">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Page -->
        <section id="home-page" class="page active">
            <div class="content-container">
                <!-- Hero Section -->
                <div class="card hero-card">
                    <div class="card-header">
                        <h1 class="card-title">Preparación ENARM</h1>
                        <p class="card-subtitle">Plataforma integral para el Examen Nacional de Aspirantes a Residencias Médicas</p>
                    </div>
                    
                    <p class="hero-description">
                        Domina tu ENARM con confianza. Practica con preguntas especializadas y monitorea tu progreso de manera efectiva.
                    </p>
                    
                    <div class="hero-actions">
                        <button class="btn btn-primary" data-action="start-practice">
                            Comenzar Práctica
                        </button>
                        <button class="btn btn-secondary" data-action="view-progress">
                            Ver Mi Progreso
                        </button>
                    </div>
                </div>

                <!-- Daily Usage Stats -->
                <div class="daily-stats"></div>
                
                <!-- Platform Stats -->
                <div class="card stats-card">
                    <div class="card-header">
                        <h2 class="card-title">Estadísticas de la Plataforma</h2>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="total-questions">500+</div>
                            <div class="stat-label">Preguntas Disponibles</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">10</div>
                            <div class="stat-label">Especialidades Médicas</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="user-progress">0%</div>
                            <div class="stat-label">Tu Progreso</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
            <section class="features-section">
                <div class="container">
                    <h2 class="section-title">¿Por qué elegir ENARM Prep?</h2>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <h3>Preguntas Específicas</h3>
                            <p>Banco de preguntas diseñado específicamente para el formato y contenido del ENARM.</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>Seguimiento Detallado</h3>
                            <p>Monitorea tu progreso con estadísticas detalladas y analíticas avanzadas.</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>Práctica Adaptiva</h3>
                            <p>El sistema se adapta a tu nivel y enfoca en áreas que necesitas mejorar.</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>Acceso Móvil</h3>
                            <p>Estudia desde cualquier dispositivo, en cualquier momento y lugar.</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>Simulacros Reales</h3>
                            <p>Practica con exámenes que simulan las condiciones reales del ENARM.</p>
                        </div>
                        
                        <div class="feature-card">
                            <h3>Contenido Médico</h3>
                            <p>Creado por médicos especialistas con experiencia en residencias médicas.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Medical Specialties -->
            <section class="specialties-section">
                <div class="container">
                    <h2 class="section-title">Especialidades Disponibles</h2>
                    
                    <div class="specialties-grid">
                        <div class="specialty-card" data-specialty="medicina-interna">
                            <h3>Medicina Interna</h3>
                            <div class="specialty-stats">
                                <span class="question-count">75 preguntas</span>
                            </div>
                        </div>
                        
                        <div class="specialty-card" data-specialty="cirugia-general">
                            <h3>Cirugía General</h3>
                            <div class="specialty-stats">
                                <span class="question-count">68 preguntas</span>
                            </div>
                        </div>
                        
                        <div class="specialty-card" data-specialty="pediatria">
                            <h3>Pediatría</h3>
                            <div class="specialty-stats">
                                <span class="question-count">82 preguntas</span>
                            </div>
                        </div>
                        
                        <div class="specialty-card" data-specialty="ginecologia">
                            <h3>Ginecología y Obstetricia</h3>
                            <div class="specialty-stats">
                                <span class="question-count">71 preguntas</span>
                            </div>
                        </div>
                        
                        <div class="specialty-card" data-specialty="medicina-familiar">
                            <h3>Medicina Familiar</h3>
                            <div class="specialty-stats">
                                <span class="question-count">59 preguntas</span>
                            </div>
                        </div>
                        
                        <div class="specialty-card" data-specialty="urgencias">
                            <h3>Urgencias Médicas</h3>
                            <div class="specialty-stats">
                                <span class="question-count">64 preguntas</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Newsletter Subscription -->
            <section class="newsletter-section">
                <div class="container">
                    <div class="newsletter-content">
                        <h2>Mantente Actualizado</h2>
                        <p>Recibe nuevas preguntas, guías de estudio y tips de preparación directamente en tu correo.</p>
                        
                        <form class="newsletter-form" id="newsletter-form">
                            <div class="input-group">
                                <input type="email" placeholder="tucorreo@ejemplo.com" required>
                                <button type="submit" class="btn btn-primary">Suscribirse</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </section>

        <!-- Practice Page -->
        <section id="practice-page" class="page">
            <div class="content-section">
                <h1>Banco de Preguntas ENARM</h1>
                
                <p>
                    Practica con preguntas reales del estilo ENARM. Selecciona la especialidad y dificultad 
                    que deseas estudiar para personalizar tu experiencia de aprendizaje.
                </p>

                <!-- Practice Mode Selection -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Selecciona Modo de Práctica</h2>
                        <p class="card-subtitle">Elige el tipo de sesión que mejor se adapte a tu preparación</p>
                    </div>
                    
                    <div class="practice-modes-grid">
                        <!-- Exam Simulation -->
                        <div class="practice-mode-card" data-mode="exam_simulation">
                            <div class="mode-icon">🏆</div>
                            <h3>Simulación de Examen</h3>
                            <p>Examen completo de 280 preguntas en 5 horas. Condiciones reales del ENARM.</p>
                            <div class="mode-stats">
                                <span class="stat">280 preguntas</span>
                                <span class="stat">5 horas</span>
                                <span class="stat">Sin explicaciones</span>
                            </div>
                            <button class="btn btn-primary mode-select-btn">Iniciar Simulación</button>
                        </div>
                        
                        <!-- Timed Practice -->
                        <div class="practice-mode-card" data-mode="timed_practice">
                            <div class="mode-icon">⏱️</div>
                            <h3>Práctica con Tiempo</h3>
                            <p>Sesión personalizada con tiempo límite. Perfecta para entrenar velocidad.</p>
                            <div class="mode-stats">
                                <span class="stat">10-50 preguntas</span>
                                <span class="stat">15min-1h</span>
                                <span class="stat">Cronometrada</span>
                            </div>
                            <button class="btn btn-primary mode-select-btn">Configurar Tiempo</button>
                        </div>
                        
                        <!-- Study Mode -->
                        <div class="practice-mode-card" data-mode="study">
                            <div class="mode-icon">📚</div>
                            <h3>Modo Estudio</h3>
                            <p>Práctica relajada con explicaciones inmediatas. Ideal para aprender.</p>
                            <div class="mode-stats">
                                <span class="stat">Sin límite</span>
                                <span class="stat">Sin tiempo</span>
                                <span class="stat">Con explicaciones</span>
                            </div>
                            <button class="btn btn-secondary mode-select-btn">Comenzar Estudio</button>
                        </div>
                        
                        <!-- Review Mode -->
                        <div class="practice-mode-card" data-mode="review">
                            <div class="mode-icon">🔄</div>
                            <h3>Revisar Incorrectas</h3>
                            <p>Repasa las preguntas que has fallado anteriormente para mejorar.</p>
                            <div class="mode-stats">
                                <span class="stat">Personalizadas</span>
                                <span class="stat">Flexible</span>
                                <span class="stat">Refuerzo</span>
                            </div>
                            <button class="btn btn-secondary mode-select-btn">Revisar Fallos</button>
                        </div>
                    </div>
                </div>
                
                <!-- Configuration Panel (Hidden by default) -->
                <div class="card config-panel" id="config-panel" style="display: none;">
                    <div class="card-header">
                        <h3 class="card-title">Configuración de Sesión</h3>
                        <p class="card-subtitle" id="config-subtitle">Personaliza tu sesión de práctica</p>
                    </div>
                    
                    <div class="config-grid">
                        <div class="control-group">
                            <label for="specialty-filter">Especialidad:</label>
                            <select id="specialty-filter">
                                <option value="">Todas las especialidades</option>
                                <option value="Medicina Interna">Medicina Interna</option>
                                <option value="Cirugía General">Cirugía General</option>
                                <option value="Pediatría">Pediatría</option>
                                <option value="Ginecología y Obstetricia">Ginecología y Obstetricia</option>
                                <option value="Medicina Familiar">Medicina Familiar</option>
                                <option value="Urgencias Médicas">Urgencias Médicas</option>
                                <option value="Cardiología">Cardiología</option>
                                <option value="Neurología">Neurología</option>
                                <option value="Gastroenterología">Gastroenterología</option>
                                <option value="Endocrinología">Endocrinología</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label for="difficulty-filter">Dificultad:</label>
                            <select id="difficulty-filter">
                                <option value="">Todas las dificultades</option>
                                <option value="basico">Básico</option>
                                <option value="intermedio">Intermedio</option>
                                <option value="avanzado">Avanzado</option>
                            </select>
                        </div>

                        <div class="control-group" id="questions-count-group">
                            <label for="questions-count">Número de preguntas:</label>
                            <select id="questions-count">
                                <option value="10">10 preguntas</option>
                                <option value="25">25 preguntas</option>
                                <option value="50" selected>50 preguntas</option>
                                <option value="100">100 preguntas</option>
                            </select>
                        </div>
                        
                        <div class="control-group" id="time-limit-group">
                            <label for="time-limit">Tiempo límite:</label>
                            <select id="time-limit">
                                <option value="15">15 minutos</option>
                                <option value="30">30 minutos</option>
                                <option value="60" selected>1 hora</option>
                                <option value="90">1.5 horas</option>
                                <option value="120">2 horas</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="config-actions">
                        <button class="btn btn-primary" id="start-session">Iniciar Sesión</button>
                        <button class="btn btn-secondary" id="cancel-config">Cancelar</button>
                    </div>
                </div>

                <!-- Question Display -->
                <div class="question-container" id="question-container" style="display: none;">
                    <div class="question-header">
                        <div class="question-meta">
                            <span class="question-number">Pregunta <span id="current-question">1</span> de <span id="total-questions-practice">10</span></span>
                            <span class="question-difficulty" id="question-difficulty">Intermedio</span>
                            <span class="question-category" id="question-category">Cardiología</span>
                        </div>
                        
                        <div class="question-actions">
                            <button class="btn-icon" id="bookmark-question" aria-label="Marcar pregunta">
                                ☆
                            </button>
                        </div>
                        
                        <div class="question-timer">
                            <div class="timer-info">
                                <span class="timer-label">Tiempo por pregunta:</span>
                                <span class="timer-display" id="timer-display">02:30</span>
                            </div>
                            <div class="session-timer" id="session-timer-display" style="display: none;">
                                <span class="session-timer-label">Tiempo total:</span>
                                <span class="session-timer-value" id="session-timer">01:00:00</span>
                            </div>
                        </div>
                    </div>

                    <div class="question-content">
                        <h3 class="question-text" id="question-text">
                            ¿Cuál es el tratamiento de primera línea para la hipertensión arterial en pacientes jóvenes?
                        </h3>

                        <div class="question-options" id="question-options">
                            <label class="option-label">
                                <input type="radio" name="answer" value="A">
                                <span class="option-letter">A)</span>
                                <span class="option-text">Diuréticos tiazídicos</span>
                            </label>
                            
                            <label class="option-label">
                                <input type="radio" name="answer" value="B">
                                <span class="option-letter">B)</span>
                                <span class="option-text">IECA</span>
                            </label>
                            
                            <label class="option-label">
                                <input type="radio" name="answer" value="C">
                                <span class="option-letter">C)</span>
                                <span class="option-text">Bloqueadores de canales de calcio</span>
                            </label>
                            
                            <label class="option-label">
                                <input type="radio" name="answer" value="D">
                                <span class="option-letter">D)</span>
                                <span class="option-text">Beta bloqueadores</span>
                            </label>
                            
                            <label class="option-label">
                                <input type="radio" name="answer" value="E">
                                <span class="option-letter">E)</span>
                                <span class="option-text">Antagonistas de receptores de angiotensina</span>
                            </label>
                        </div>

                        <div class="question-actions">
                            <button class="btn btn-outline" id="bookmark-question">
                                Guardar
                            </button>
                            <button class="btn btn-primary" id="submit-answer">Responder</button>
                            <button class="btn btn-secondary" id="next-question" style="display: none;">Siguiente</button>
                        </div>
                    </div>

                    <!-- Answer Explanation -->
                    <div class="answer-explanation" id="answer-explanation" style="display: none;">
                        <div class="explanation-header">
                            <span class="result-indicator" id="result-indicator">Correcto</span>
                            <span class="correct-answer">Respuesta correcta: <span id="correct-answer-letter">B</span></span>
                        </div>
                        
                        <div class="explanation-text" id="explanation-text">
                            Los IECA son primera línea en pacientes jóvenes por su perfil de seguridad y efectividad.
                        </div>
                        
                        <div class="explanation-reference" id="explanation-reference">
                            Referencia: Guías ESC/ESH 2023
                        </div>
                    </div>
                </div>

                <!-- Practice Results -->
                <div class="practice-results" id="practice-results" style="display: none;">
                    <h2>Resultados de la Sesión</h2>
                    <div class="results-summary">
                        <div class="result-stat">
                            <div class="stat-number" id="correct-answers">8</div>
                            <div class="stat-label">Correctas</div>
                        </div>
                        <div class="result-stat">
                            <div class="stat-number" id="incorrect-answers">2</div>
                            <div class="stat-label">Incorrectas</div>
                        </div>
                        <div class="result-stat">
                            <div class="stat-number" id="accuracy-percentage">80%</div>
                            <div class="stat-label">Precisión</div>
                        </div>
                        <div class="result-stat">
                            <div class="stat-number" id="time-spent">12:45</div>
                            <div class="stat-label">Tiempo Total</div>
                        </div>
                    </div>
                    
                    <div class="results-actions">
                        <button class="btn btn-primary" id="start-new-practice">Nueva Práctica</button>
                        <button class="btn btn-secondary" id="review-incorrect">Revisar Incorrectas</button>
                        <button class="btn btn-outline" id="view-detailed-results">Ver Detalles</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Page -->
        <section id="progress-page" class="page">
            <div class="content-section">
                <h1>Mi Progreso</h1>
                
                <p>
                    Seguimiento detallado de tu preparación para el ENARM. Revisa tus estadísticas de desempeño, 
                    identifica áreas de oportunidad y monitorea tu avance hacia tus objetivos de estudio.
                </p>

                <h2>Resumen de Desempeño</h2>

                <div class="progress-overview">
                    <div class="progress-card">
                        <h3>Preguntas Respondidas</h3>
                        <div class="progress-number" id="total-answered">0</div>
                    </div>
                    <div class="progress-card">
                        <h3>Precisión General</h3>
                        <div class="progress-number" id="overall-accuracy">0%</div>
                    </div>
                    <div class="progress-card">
                        <h3>Tiempo de Estudio</h3>
                        <div class="progress-number" id="study-time">0 min</div>
                    </div>
                    <div class="progress-card">
                        <h3>Racha Actual</h3>
                        <div class="progress-number" id="current-streak">0 días</div>
                    </div>
                </div>

                <div class="progress-charts">
                    <div class="chart-container">
                        <h3>Rendimiento por Especialidad</h3>
                        <canvas id="specialty-chart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Progreso Semanal</h3>
                        <canvas id="weekly-progress-chart"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ENARM Prep</h3>
                    <p>La plataforma más completa para tu preparación médica.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Enlaces</h4>
                    <ul>
                        <li><a href="#about">Acerca de</a></li>
                        <li><a href="#contact">Contacto</a></li>
                        <li><a href="#privacy">Privacidad</a></li>
                        <li><a href="#terms">Términos</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Síguenos</h4>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook">FB</a>
                        <a href="#" aria-label="Twitter">TW</a>
                        <a href="#" aria-label="Instagram">IG</a>
                        <a href="#" aria-label="YouTube">YT</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 ENARM Prep. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loading-spinner">
        <div class="spinner"></div>
        <p>Cargando...</p>
    </div>

    <!-- JavaScript - Load in dependency order -->
    <!-- Core modules -->
    <script src="js/constants.js"></script>
    <script src="js/error-handler.js"></script>
    <script src="js/storage-service.js"></script>
    <script src="js/common-utils.js"></script>
    
    <!-- Feature modules -->
    <script src="js/theme-manager.js"></script>
    <script src="js/navigation-manager.js"></script>
    <script src="js/freemium-manager.js"></script>
    
    <!-- Main application modules -->
    <script src="js/questions.js"></script>
    <script src="js/progress.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/app.js"></script>
</body>
</html>